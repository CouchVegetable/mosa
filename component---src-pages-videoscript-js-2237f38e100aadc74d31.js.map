{"version":3,"sources":["webpack:///./node_modules/@material-ui/core/esm/internal/SwitchBase.js","webpack:///./node_modules/@material-ui/core/esm/Switch/Switch.js","webpack:///./src/pages/videoscript.js","webpack:///./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","webpack:///./src/hooks/useIntervalHook.js","webpack:///./src/components/MosaComponents/MosaVideoPlayer.js"],"names":["props","ref","autoFocus","checkedProp","checked","checkedIcon","classes","className","defaultChecked","disabledProp","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value","other","_useControlled","useControlled","controlled","default","Boolean","state","_useControlled2","setCheckedState","muiFormControl","useFormControl","hasLabelFor","IconButton","component","root","role","undefined","event","input","newChecked","target","withStyles","padding","cursor","position","opacity","width","height","top","left","margin","zIndex","_props$color","color","_props$edge","edge","_props$size","size","thumb","edgeStart","edgeEnd","concat","capitalize","switchBase","track","theme","display","overflow","boxSizing","flexShrink","verticalAlign","colorAdjust","marginLeft","marginRight","palette","grey","transition","transitions","create","duration","shortest","transform","colorPrimary","primary","main","backgroundColor","action","hoverOpacity","common","black","white","colorSecondary","secondary","sizeSmall","boxShadow","shadows","borderRadius","TestBedPage","Consumer","isSerialAvailable","connected","commandRobot","inputMethod","handleInputMethodChange","outputMethod","handleOutputMethodChange","settings","updateSettings","title","container","spacing","justify","item","xs","md","lg","exclusive","variant","FormControlLabel","control","label","_props$labelPlacement","labelPlacement","controlProps","forEach","key","alignItems","WebkitTapHighlightColor","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","text","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","Canvas","funscripts","axis","totalTime","vpos","rest","canvasRef","ctx","clearRect","canvas","fillStyle","beginPath","moveTo","entry","x","y","lineTo","stroke","draw","getContext","scroll_left","Math","max","floor","vis_width","document","getElementById","scrollLeft","stle","maxHeight","maxWidth","style","canvas_width","MosaVideoPlayer","useState","current_file","setCurrentFile","video_files","setVideoFiles","running","setRunning","moving_pauses","setMovingPauses","moving_pause_start","setMovingPauseStart","video_length","setVideoLength","video_position","setVideoPosition","video_speed","setVideoSpeed","latency","setLatency","setPosition","setFunscripts","script_offsets","setScriptOffsets","editing_axis","setEditingAxis","axes","player","paused","current_msecs","currentTime","tmp_position","tmp_offsets","map","inverted","actions","prev_offset","next_offset","length","prev_action","next_action","prev_val","clampedNum","next_val","where_in_interval","mid_val","abs","recover_degree","clampedFloat","console","log","e","keydownListener","keydownEvent","repeat","pos","tmp","push","sort","a","b","filter","window","addEventListener","removeEventListener","fetch","then","res","result","split","error","alert","controls","file","src","file_base","replaceAll","fetches","headers","json","catch","err","warn","Promise","allSettled","tmp2","video","play","ondurationchange","srcElement","ontimeupdate","setFile","f","speed","playbackRate","parseFloat","setEditAxis","onClick","element","createElement","setAttribute","encodeURIComponent","JSON","stringify","extension","body","appendChild","click","removeChild","downloadEditingScript","min","step","valueLabelDisplay","marks","toggleRunning"],"mappings":"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","file":"component---src-pages-videoscript-js-2237f38e100aadc74d31.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0,\n    zIndex: 1\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v5: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return /*#__PURE__*/React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)), checked ? checkedIcon : icon);\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // @inheritedComponent IconButton\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","import React from 'react'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\n\nimport { Card, Typography, CardContent, Grid, Divider } from '@material-ui/core'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab'\n\nimport { MosaContext } from '../context/MosaContext'\n\nimport MosaOutputRangeControl from '../components/MosaComponents/MosaOutputRangeControl'\nimport MosaMotionControl from '../components/MosaComponents/MosaMotionControl'\nimport MosaVideoPlayer from '../components/MosaComponents/MosaVideoPlayer'\nimport MosaVibeControl from '../components/MosaComponents/MosaVibeControl'\nimport MosaVisualizer from '../components/MosaComponents/MosaVisualizer'\n\nconst TestBedPage = () => {\n  return (\n    <MosaContext.Consumer>\n      {({\n        isSerialAvailable,\n        connected,\n        commandRobot,\n        target,\n        inputMethod,\n        handleInputMethodChange,\n        outputMethod,\n        handleOutputMethodChange,\n        settings,\n        updateSettings,\n      }) => (\n        <Layout>\n          <SEO title=\"Videoscript\" />\n          <Grid container spacing={2} justify=\"center\">\n            <Grid item xs={4} md={4} lg={3}>\n              <Card>\n                <CardContent>\n                  <Typography>\n                    Input: {!inputMethod && 'none selected'}\n                  </Typography>\n                  <ToggleButtonGroup\n                    value={inputMethod}\n                    exclusive\n                    onChange={handleInputMethodChange}\n                  >\n                    <ToggleButton value=\"web\">WEB</ToggleButton>\n                    <ToggleButton value=\"remote\" disabled>\n                      REMOTE\n                    </ToggleButton>\n                  </ToggleButtonGroup>\n                  <br />\n                  <br />\n                  <Typography>\n                    Output: {!outputMethod && 'none selected'}\n                  </Typography>\n                  <ToggleButtonGroup\n                    value={outputMethod}\n                    exclusive\n                    onChange={handleOutputMethodChange}\n                  >\n                    {isSerialAvailable && (\n                      <ToggleButton value=\"serial\">SERIAL</ToggleButton>\n                    )}\n                    <ToggleButton value=\"visualizer\">SR-VIS</ToggleButton>\n                  </ToggleButtonGroup>\n                  <br />\n                  <br />\n                  <Typography variant=\"caption\">\n                    (more I/O coming soon)\n                  </Typography>\n                  {!isSerialAvailable && ( // if serial not available, explain\n                    <>\n                      <br />\n                      <Typography>\n                        Could not detect serial capabilities. Please use the\n                        latest version of Chrome, open{' '}\n                        <code>chrome://flags</code>, and set\n                        <code>\n                          #enable-experimental-web-platform-features\n                        </code>{' '}\n                        (note that these are experimental features, use at your\n                        own risk, etc etc)\n                      </Typography>\n                    </>\n                  )}\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={8}>\n              <MosaVideoPlayer\n                connected={connected}\n                commandRobot={commandRobot}\n              />\n            </Grid>\n            <Grid item xs={4} md={4} lg={3}>\n              <MosaOutputRangeControl\n                settings={settings}\n                updateSettings={updateSettings}\n              />\n            </Grid>\n            <Grid item xs={4} md={4} lg={5}>\n              <MosaVisualizer target={target} />\n              <hr />\n              <MosaMotionControl\n                connected={connected}\n                target={target}\n                commandRobot={commandRobot}\n              />\n            </Grid>\n            <Grid item xs={4} md={4} lg={4}>\n              <MosaVibeControl\n                connected={connected}\n                target={target}\n                commandRobot={commandRobot}\n              />\n            </Grid>\n          </Grid>\n          &nbsp;\n          <Divider />\n        </Layout>\n      )}\n    </MosaContext.Consumer>\n  )\n}\n\nexport default TestBedPage\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","import { useEffect, useRef } from 'react'\n\n// thanks https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef()\n\n  // remember the latest callback\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback]) // depend on callback (rerun when callback changes)\n\n  // set up the interval\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay)\n      return () => clearInterval(id) // clean up afterwards\n    }\n  }, [delay]) // depend on delay (rerun when delay changes)\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  FormControlLabel,\n  MenuItem,\n  Select,\n  Slider,\n  Switch,\n  Typography,\n} from '@material-ui/core'\n\nimport { useInterval } from '../../hooks/useIntervalHook'\nimport { clampedFloat, clampedNum } from '../../utils/clamp'\n\nconst Canvas = props => {\n  const { funscripts, axis, totalTime, vpos, ...rest } = props\n  const canvasRef = useRef(null)\n  const canvas_width = 20000\n  const vis_width = 800\n\n  const draw = ctx => {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n    ctx.fillStyle = '#000000'\n    ctx.beginPath()\n    ctx.moveTo(0,50)\n    for(let entry of funscripts[axis][\"actions\"]) {\n      let x = entry[\"at\"] / totalTime * canvas_width\n      let y = 100 - entry[\"pos\"]\n      ctx.lineTo(x, y)\n    }\n    ctx.stroke()\n  }\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n    draw(context)\n  }, [funscripts, axis, totalTime])\n\n  useEffect(() => {\n    let scroll_left = Math.max(Math.floor(vpos / totalTime * canvas_width) - vis_width / 2, 0)\n    document.getElementById(\"fiudfzdifu\").scrollLeft = scroll_left\n  }, [vpos, totalTime])\n\n  let stle = {maxHeight: '120px', maxWidth: vis_width + 'px', overflow: 'scroll'}\n  return <div id=\"fiudfzdifu\" style={stle}>\n          <canvas width={canvas_width+\"px\"} height=\"100px\" ref={canvasRef} {...rest}/>\n         </div>\n}\n\nexport const MosaVideoPlayer = props => {\n  const { connected, target, commandRobot } = props\n\n  const [current_file, setCurrentFile] = useState(\"\")\n  const [video_files, setVideoFiles] = useState([])\n\n  const [running, setRunning] = useState(false)\n  const [moving_pauses, setMovingPauses] = useState(true)\n  const [moving_pause_start, setMovingPauseStart] = useState(0)\n\n  const [video_length, setVideoLength] = useState(0)\n  const [video_position, setVideoPosition] = useState(0)\n  const [video_speed, setVideoSpeed] = useState(\"100\")\n  const [latency, setLatency] = useState(0)\n  const [position, setPosition] = useState({})\n\n  const [funscripts, setFunscripts] = useState({})\n  const [script_offsets, setScriptOffsets] = useState({})\n\n  const [editing_axis, setEditingAxis] = useState(\"none\")\n\n  const axes = [[\"L0\", \".funscript\"],\n                [\"R2\", \".pitch.funscript\"],\n                [\"R1\", \".roll.funscript\"],\n                [\"R0\", \".twist.funscript\"],\n                [\"L1\", \".forward.funscript\"]];\n\n  useInterval(() => {\n    if (running) {\n      let player = document.getElementById(\"idvideo\");\n      if(player.paused) return;\n      let current_msecs = player.currentTime * 1000.0 - latency;\n      let tmp_position = {...position};\n      let tmp_offsets = {...script_offsets};\n      for(let axis of axes.map((entry) => entry[0])) {\n        try {\n          if(funscripts[axis] === undefined) continue;\n          if(funscripts[axis][\"actions\"] === undefined) continue;\n          let inverted = !!funscripts[axis][\"inverted\"];\n\n          let actions = funscripts[axis][\"actions\"];\n          let prev_offset = script_offsets[axis];\n          if(actions[prev_offset][\"at\"] > current_msecs) prev_offset = 0;\n          let next_offset = prev_offset + 1;\n          while(next_offset < actions.length && actions[next_offset][\"at\"] < current_msecs) next_offset++;\n          if(next_offset >= actions.length || next_offset < 1) continue;\n          prev_offset = next_offset - 1;\n          if(actions[prev_offset][\"at\"] > current_msecs) continue;\n\n          let prev_action = actions[prev_offset];\n          let next_action = actions[next_offset];\n          let prev_val = clampedNum(prev_action[\"pos\"], 0, 100) * 10.0;\n          let next_val = clampedNum(next_action[\"pos\"], 0, 100) * 10.0;\n          if(inverted) {\n            prev_val = 1000 - prev_val;\n            next_val = 1000 - next_val;\n          }\n          let where_in_interval = (current_msecs - prev_action[\"at\"])*1.0 / (next_action[\"at\"] - prev_action[\"at\"])*1.0;\n          let mid_val = (1.0 - where_in_interval) * prev_val + where_in_interval * next_val;\n\n          // if enabled, fill L0 pauses with slow motion\n          const pause_threshold = 2000\n          if(axis === \"L0\" && moving_pauses) {\n            if(mid_val > 850) {\n              if(moving_pause_start <= 0) {\n                // we are not in pause mode yet, keep watching\n                setMovingPauseStart(current_msecs)\n              } else {\n                if(current_msecs - moving_pause_start > pause_threshold) {\n                  // we are in a pause, create holding pattern\n                  mid_val = Math.abs(1000 - (((current_msecs - moving_pause_start - pause_threshold) / 4) % 2000)) * 0.8\n                }\n              }\n            } else {\n              // seems to be some action here, recover\n              if(moving_pause_start < 0) {\n                // we are recovering from a pause, advance to mid_val (finish in 600ms)\n                let recover_degree = clampedFloat((current_msecs - Math.abs(moving_pause_start)) / 600, 0, 1)\n                console.log(`recovering ${recover_degree}`)\n                mid_val = recover_degree * mid_val + (1 - recover_degree) * tmp_position[\"L0\"]\n                if(recover_degree > 0.95) setMovingPauseStart(0)\n              } else if(moving_pause_start > 0) {\n                // we might be in a pause\n                if(current_msecs - moving_pause_start > pause_threshold) {\n                  // we were in a pause, set to recover\n                  setMovingPauseStart(-current_msecs)\n                  mid_val = tmp_position[\"L0\"]\n                } else {\n                  // not paused yet, just reset timer\n                  setMovingPauseStart(0)\n                }\n              }\n            }\n          }\n\n          tmp_position[axis] = mid_val;\n          // if(axis === \"L0\") console.log(`${prev_offset} ${where_in_interval} ${mid_val} ${prev_val} ${next_val}`);\n          tmp_offsets[axis] = prev_offset;\n        } catch(e) {\n          console.log(e);\n        }\n      }\n      setPosition(tmp_position);\n      setScriptOffsets(tmp_offsets);\n      if(connected) commandRobot(tmp_position, 0);\n    }\n  }, 50) // next execution in 50ms\n\n  const setFile = file => {\n    let tmp = {};\n    document.getElementById(\"idvideo\").src = `video/${file}`;\n    let file_base = \"video/\" + file.replaceAll(\".mp4\", \"\");\n    let fetches = [];\n    for(let axis of axes) {\n      fetches.push(\n        fetch(file_base + axis[1], { headers : { 'Content-Type': 'application/json', 'Accept': 'application/json' } } ).then(\n          (res) => res.json().then(\n            (json) => tmp[axis[0]] = json\n          ).catch(\n            (err) => { console.log(err); tmp[axis[0]] = undefined; }\n          )\n        ).catch(\n            (err) => { console.warn(err); tmp[axis[0]] = undefined; }\n          )\n      )\n    }\n    Promise.allSettled(fetches).then(\n        () => {\n            setEditingAxis(\"none\")\n            setCurrentFile(file)\n            setFunscripts(tmp)\n            let tmp2 = {};\n            for(let axis in tmp) tmp2[axis] = 0\n            setScriptOffsets(tmp2)\n            tmp2 = {};\n            for(let axis in tmp) if(tmp[axis] !== undefined) tmp2[axis] = 500\n            setPosition({...tmp2})\n            let video = document.getElementById(\"idvideo\")\n            video.play();\n            video.ondurationchange = (e) => setVideoLength(e.srcElement.duration * 1000)\n            video.ontimeupdate = (e) => setVideoPosition(e.srcElement.currentTime * 1000)\n        }\n    );\n  }\n\n  const setEditAxis = axis => {\n    let tmp = {...funscripts}\n    if(tmp[axis] === undefined) {\n      tmp[axis] = {\"actions\": [{\"at\": 0, \"pos\": 50}]}\n      setFunscripts(tmp)\n      console.log(`created funscript file ${axis}`)\n      let tmp2 = {...script_offsets}\n      tmp2[axis] = 0\n      setScriptOffsets(tmp2)\n    }\n    setEditingAxis(axis)\n  }\n\n  const selectVideoSpeed = speed => {\n    let player = document.getElementById(\"idvideo\");\n    player.playbackRate = parseFloat(speed) / 100;\n    setVideoSpeed(speed)\n  }\n\n  const keydownListener = keydownEvent => {\n    const { key, target, repeat } = keydownEvent;\n    if (repeat) return;\n    if(key >= '1' && key <= '9') {\n      let pos = (key - '1') / 8 * 100\n      let tmp = {...funscripts}\n      let player = document.getElementById(\"idvideo\")\n      let current_msecs = player.currentTime * 1000.0 - latency\n      tmp[editing_axis][\"actions\"].push({\"at\": Math.floor(current_msecs), \"pos\": Math.floor(pos)})\n      tmp[editing_axis][\"actions\"].sort((a, b) => a[\"at\"] - b[\"at\"])\n      setFunscripts(tmp)\n      console.log(`Axis ${editing_axis} has ${tmp[editing_axis][\"actions\"].length} actions`)\n    }\n    if(key === '0') {\n      let tmp = {...funscripts}\n      let player = document.getElementById(\"idvideo\")\n      let current_msecs = player.currentTime * 1000 - latency\n      tmp[editing_axis][\"actions\"] = tmp[editing_axis][\"actions\"].filter( (e) => e[\"at\"] < current_msecs - 1000 || e[\"at\"] > current_msecs + 500)\n      setFunscripts(tmp)\n      player.currentTime = current_msecs / 1000 - 3\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", keydownListener, true)\n    return () => window.removeEventListener(\"keydown\", keydownListener, true)\n  })\n\n  const toggleRunning = running => {\n    setRunning(!running)\n  }\n\n  const downloadEditingScript = () => {\n    let element = document.createElement('a');\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(funscripts[editing_axis])));\n    let extension = \".json\"\n    for(let axis of axes) {\n      if(axis[0] === editing_axis) extension = axis[1]\n    }\n    element.setAttribute('download', current_file.replaceAll(\".mp4\", extension));\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  useEffect(() => {\n    if(video_files.length > 0) return;\n    fetch(\"video/videos.txt\", {})\n    .then(res => res.text())\n    .then(\n          (result) => { setVideoFiles(result.split(\"\\n\")) },\n          (error) => { alert(\"Could not load list of video files\"); }\n    )\n  })\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h5\">Video {Math.floor(position[\"L0\"])} {Math.floor(position[\"R2\"])} {Math.floor(position[\"R1\"])}</Typography>\n        <hr />\n        <video id=\"idvideo\" width=\"100%\" controls>\n        </video>\n        {editing_axis !== \"none\" ? <Canvas vpos={video_position} funscripts={funscripts} axis={editing_axis} totalTime={video_length}></Canvas> : \"\"}\n      </CardContent>\n      <Typography>File</Typography>\n      <Select\n        id=\"idselect\"\n        value={current_file}\n        onChange={(e, value) => setFile(value.props.value)}>\n        {video_files.map((f) => (\n          <MenuItem value={f} key={f} >{f}</MenuItem>\n        ))}\n      </Select>\n\n      <Select\n        value={video_speed}\n        onChange={(e, value) => selectVideoSpeed(value.props.value)}>\n        <MenuItem value=\"10\" key=\"10\">10%</MenuItem>\n        <MenuItem value=\"25\" key=\"25\">25%</MenuItem>\n        <MenuItem value=\"50\" key=\"50\">50%</MenuItem>\n        <MenuItem value=\"100\" key=\"100\">100%</MenuItem>\n      </Select>\n      <Select\n        value={editing_axis}\n        onChange={(e, value) => setEditAxis(value.props.value)}>\n        <MenuItem value=\"none\" key=\"none\">none</MenuItem>\n        <MenuItem value=\"L0\" key=\"main\">Main/L0</MenuItem>\n        <MenuItem value=\"R2\" key=\"pitch\">Pitch/R2</MenuItem>\n        <MenuItem value=\"R1\" key=\"roll\">Roll/R1</MenuItem>\n        <MenuItem value=\"R0\" key=\"twist\">Twist/R0</MenuItem>\n        <MenuItem value=\"L1\" key=\"forward\">Forward/L1</MenuItem>\n        <MenuItem value=\"L2\" key=\"left\">Left/L2</MenuItem>\n        <MenuItem value=\"V0\" key=\"vibe1\">Vibe1/V0</MenuItem>\n        <MenuItem value=\"A0\" key=\"valve\">Valve/A0</MenuItem>\n        <MenuItem value=\"A1\" key=\"suck\">Suck/A1</MenuItem>\n      </Select>\n      <Button\n        onClick={() => downloadEditingScript()}\n        variant=\"contained\"\n        color=\"default\"\n        disabled={editing_axis === \"none\"}\n      >\n        Download script\n      </Button>\n\n      <Typography>Latency</Typography>\n      <Slider\n        value={latency}\n        min={-2000}\n        max={2000}\n        step={10}\n        track={false}\n        valueLabelDisplay={'auto'}\n        onChange={(e, value) => setLatency(value)}\n        marks={[{ value: -1000, label: 'Video 1s early' },{ value: 1000, label: 'Video 1s late' }]}\n      />\n      <FormControlLabel key=\"moving_pauses\" label=\"Moving pauses\"\n          control={\n              <Switch\n                  checked={moving_pauses}\n                  onChange={(e) => setMovingPauses(!moving_pauses)}\n                  name=\"Moving pauses\"\n                  value=\"moving_pauses\"\n                  color={'primary'}\n              />\n          }\n      />\n      <CardActions>\n        <Button\n          onClick={() => toggleRunning(running)}\n          variant=\"contained\"\n          color=\"default\"\n        >\n          {running ? 'STOP' : 'START'}\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n\nexport default MosaVideoPlayer\n"],"sourceRoot":""}