{"version":3,"sources":["webpack:///./node_modules/@material-ui/core/esm/internal/SwitchBase.js","webpack:///./node_modules/@material-ui/core/esm/Switch/Switch.js","webpack:///./src/pages/videoscript.js","webpack:///./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","webpack:///./src/hooks/useIntervalHook.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/asyncIterator.js","webpack:///./src/components/MosaComponents/MosaVideoPlayer.js"],"names":["props","ref","autoFocus","checkedProp","checked","checkedIcon","classes","className","defaultChecked","disabledProp","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value","other","_useControlled","useControlled","controlled","default","Boolean","state","_useControlled2","setCheckedState","muiFormControl","useFormControl","hasLabelFor","IconButton","component","root","role","undefined","event","input","newChecked","target","withStyles","padding","cursor","position","opacity","width","height","top","left","margin","zIndex","_props$color","color","_props$edge","edge","_props$size","size","thumb","edgeStart","edgeEnd","concat","capitalize","switchBase","track","theme","display","overflow","boxSizing","flexShrink","verticalAlign","colorAdjust","marginLeft","marginRight","palette","grey","transition","transitions","create","duration","shortest","transform","colorPrimary","primary","main","backgroundColor","action","hoverOpacity","common","black","white","colorSecondary","secondary","sizeSmall","boxShadow","shadows","borderRadius","TestBedPage","Consumer","isSerialAvailable","connected","commandRobot","inputMethod","handleInputMethodChange","outputMethod","handleOutputMethodChange","settings","updateSettings","title","container","spacing","justify","item","xs","md","lg","exclusive","variant","FormControlLabel","control","label","_props$labelPlacement","labelPlacement","controlProps","forEach","key","alignItems","WebkitTapHighlightColor","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","text","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","_asyncIterator","iterable","method","Symbol","asyncIterator","call","iterator","TypeError","Canvas","funscripts","axis","totalTime","vpos","rest","canvasRef","ctx","clearRect","canvas","fillStyle","beginPath","moveTo","vis_width","entry","x","y","lineTo","stroke","draw","getContext","scroll_left","Math","max","floor","document","getElementById","scrollLeft","stle","maxHeight","maxWidth","style","canvas_width","MosaVideoPlayer","useState","current_file","setCurrentFile","video_files","setVideoFiles","local_video_files","setLocalVideoFiles","running","setRunning","moving_pauses","setMovingPauses","moving_pause_start","setMovingPauseStart","video_length","setVideoLength","video_position","setVideoPosition","video_speed","setVideoSpeed","latency","setLatency","setPosition","setFunscripts","script_offsets","setScriptOffsets","editing_axis","setEditingAxis","axes","file","initVideo","a","filename","tmp2","video","play","ondurationchange","e","srcElement","ontimeupdate","currentTime","fileItem","URL","getFile","src","createObjectURL","fh","txt","JSON","parse","file_base","replaceAll","fetches","push","fetch","headers","then","res","json","catch","err","console","log","warn","Promise","allSettled","window","hasOwnProperty","alert","showDirectoryPicker","dirHandle","videoFiles","values","kind","endsWith","videos","Object","keys","sort","player","paused","current_msecs","tmp_position","tmp_offsets","map","inverted","actions","prev_offset","next_offset","length","prev_action","next_action","prev_val","clampedNum","next_val","where_in_interval","mid_val","abs","recover_degree","clampedFloat","selectVideoSpeed","speed","playbackRate","parseFloat","keydownListener","keydownEvent","repeat","pos","tmp","b","filter","speed_key_dict","addEventListener","removeEventListener","result","split","error","Card","CardContent","Typography","controls","Button","onClick","openLocalFolder","Select","setFile","MenuItem","f","setEditAxis","element","createElement","setAttribute","encodeURIComponent","stringify","extension","body","appendChild","click","removeChild","downloadEditingScript","Slider","min","step","valueLabelDisplay","marks","Switch","CardActions","toggleRunning"],"mappings":"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","file":"component---src-pages-videoscript-js-d4a834c1bd82503070fe.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0,\n    zIndex: 1\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v5: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return /*#__PURE__*/React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)), checked ? checkedIcon : icon);\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // @inheritedComponent IconButton\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","import React from 'react'\n\nimport Layout from '../components/layout'\nimport SEO from '../components/seo'\n\nimport { Card, Typography, CardContent, Grid, Divider } from '@material-ui/core'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab'\n\nimport { MosaContext } from '../context/MosaContext'\n\nimport MosaOutputRangeControl from '../components/MosaComponents/MosaOutputRangeControl'\nimport MosaMotionControl from '../components/MosaComponents/MosaMotionControl'\nimport MosaVideoPlayer from '../components/MosaComponents/MosaVideoPlayer'\nimport MosaVibeControl from '../components/MosaComponents/MosaVibeControl'\nimport MosaVisualizer from '../components/MosaComponents/MosaVisualizer'\n\nconst TestBedPage = () => {\n  return (\n    <MosaContext.Consumer>\n      {({\n        isSerialAvailable,\n        connected,\n        commandRobot,\n        target,\n        inputMethod,\n        handleInputMethodChange,\n        outputMethod,\n        handleOutputMethodChange,\n        settings,\n        updateSettings,\n      }) => (\n        <Layout>\n          <SEO title=\"Videoscript\" />\n          <Grid container spacing={2} justify=\"center\">\n            <Grid item xs={4} md={4} lg={3}>\n              <Card>\n                <CardContent>\n                  <Typography>\n                    Input: {!inputMethod && 'none selected'}\n                  </Typography>\n                  <ToggleButtonGroup\n                    value={inputMethod}\n                    exclusive\n                    onChange={handleInputMethodChange}\n                  >\n                    <ToggleButton value=\"web\">WEB</ToggleButton>\n                    <ToggleButton value=\"remote\" disabled>\n                      REMOTE\n                    </ToggleButton>\n                  </ToggleButtonGroup>\n                  <br />\n                  <br />\n                  <Typography>\n                    Output: {!outputMethod && 'none selected'}\n                  </Typography>\n                  <ToggleButtonGroup\n                    value={outputMethod}\n                    exclusive\n                    onChange={handleOutputMethodChange}\n                  >\n                    {isSerialAvailable && (\n                      <ToggleButton value=\"serial\">SERIAL</ToggleButton>\n                    )}\n                    <ToggleButton value=\"visualizer\">SR-VIS</ToggleButton>\n                  </ToggleButtonGroup>\n                  <br />\n                  <br />\n                  <Typography variant=\"caption\">\n                    (more I/O coming soon)\n                  </Typography>\n                  {!isSerialAvailable && ( // if serial not available, explain\n                    <>\n                      <br />\n                      <Typography>\n                        Could not detect serial capabilities. Please use the\n                        latest version of Chrome, open{' '}\n                        <code>chrome://flags</code>, and set\n                        <code>\n                          #enable-experimental-web-platform-features\n                        </code>{' '}\n                        (note that these are experimental features, use at your\n                        own risk, etc etc)\n                      </Typography>\n                    </>\n                  )}\n                </CardContent>\n              </Card>\n            </Grid>\n            <Grid item xs={8}>\n              <MosaVideoPlayer\n                connected={connected}\n                commandRobot={commandRobot}\n              />\n            </Grid>\n            <Grid item xs={4} md={4} lg={3}>\n              <MosaOutputRangeControl\n                settings={settings}\n                updateSettings={updateSettings}\n              />\n            </Grid>\n            <Grid item xs={4} md={4} lg={5}>\n              <MosaVisualizer target={target} />\n              <hr />\n              <MosaMotionControl\n                connected={connected}\n                target={target}\n                commandRobot={commandRobot}\n              />\n            </Grid>\n            <Grid item xs={4} md={4} lg={4}>\n              <MosaVibeControl\n                connected={connected}\n                target={target}\n                commandRobot={commandRobot}\n              />\n            </Grid>\n          </Grid>\n          &nbsp;\n          <Divider />\n        </Layout>\n      )}\n    </MosaContext.Consumer>\n  )\n}\n\nexport default TestBedPage\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","import { useEffect, useRef } from 'react'\n\n// thanks https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport const useInterval = (callback, delay) => {\n  const savedCallback = useRef()\n\n  // remember the latest callback\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback]) // depend on callback (rerun when callback changes)\n\n  // set up the interval\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay)\n      return () => clearInterval(id) // clean up afterwards\n    }\n  }, [delay]) // depend on delay (rerun when delay changes)\n}\n","export default function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol !== \"undefined\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}","import React, { useEffect, useRef, useState } from 'react'\nimport {\n  Button,\n  Card,\n  CardActions,\n  CardContent,\n  FormControlLabel,\n  MenuItem,\n  Select,\n  Slider,\n  Switch,\n  Typography,\n} from '@material-ui/core'\n\nimport { useInterval } from '../../hooks/useIntervalHook'\nimport { clampedFloat, clampedNum } from '../../utils/clamp'\n\nconst Canvas = props => {\n  const { funscripts, axis, totalTime, vpos, ...rest } = props\n  const canvasRef = useRef(null)\n  const vis_width = 800\n  const canvas_width = 20000 + vis_width\n\n  const draw = ctx => {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n    ctx.fillStyle = '#000000'\n    ctx.beginPath()\n    ctx.moveTo(vis_width / 2,50)\n    for(let entry of funscripts[axis][\"actions\"]) {\n      let x = entry[\"at\"] / totalTime * (canvas_width - vis_width) + vis_width / 2\n      let y = 100 - entry[\"pos\"]\n      ctx.lineTo(x, y)\n    }\n    ctx.stroke()\n  }\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n    draw(context)\n  }, [funscripts, axis, totalTime])\n\n  useEffect(() => {\n    let scroll_left = Math.max(Math.floor(vpos / totalTime * (canvas_width - vis_width)), 0)\n    document.getElementById(\"fiudfzdifu\").scrollLeft = scroll_left\n  }, [vpos, totalTime])\n\n  let stle = {maxHeight: '120px', maxWidth: vis_width + 'px', overflow: 'hidden'}\n  return <div id=\"fiudfzdifu\" style={stle}>\n          <canvas width={canvas_width+\"px\"} height=\"100px\" ref={canvasRef} {...rest}/>\n         </div>\n}\n\nexport const MosaVideoPlayer = props => {\n  const { connected, target, commandRobot } = props\n\n  const [current_file, setCurrentFile] = useState(\"none\")\n  const [video_files, setVideoFiles] = useState([])\n  const [local_video_files, setLocalVideoFiles] = useState({})\n\n  const [running, setRunning] = useState(false)\n  const [moving_pauses, setMovingPauses] = useState(true)\n  const [moving_pause_start, setMovingPauseStart] = useState(0)\n\n  const [video_length, setVideoLength] = useState(0)\n  const [video_position, setVideoPosition] = useState(0)\n  const [video_speed, setVideoSpeed] = useState(\"100\")\n  const [latency, setLatency] = useState(0)\n  const [position, setPosition] = useState({})\n\n  const [funscripts, setFunscripts] = useState({})\n  const [script_offsets, setScriptOffsets] = useState({})\n\n  const [editing_axis, setEditingAxis] = useState(\"none\")\n\n  const axes = [[\"R2\", \".pitch.funscript\"],\n                [\"R1\", \".roll.funscript\"],\n                [\"R0\", \".twist.funscript\"],\n                [\"L1\", \".forward.funscript\"],\n                [\"A1\", \".suck.funscript\"],\n                [\"L0\", \".funscript\"]];\n\n  useInterval(() => {\n    if (running) {\n      let player = document.getElementById(\"idvideo\");\n      if(player.paused) return;\n      let current_msecs = player.currentTime * 1000.0 - latency;\n      let tmp_position = {...position};\n      let tmp_offsets = {...script_offsets};\n      for(let axis of axes.map((entry) => entry[0])) {\n        try {\n          if(funscripts[axis] === undefined) continue;\n          if(funscripts[axis][\"actions\"] === undefined) continue;\n          let inverted = !!funscripts[axis][\"inverted\"];\n\n          let actions = funscripts[axis][\"actions\"];\n          let prev_offset = script_offsets[axis];\n          if(actions[prev_offset][\"at\"] > current_msecs) prev_offset = 0;\n          let next_offset = prev_offset + 1;\n          while(next_offset < actions.length && actions[next_offset][\"at\"] < current_msecs) next_offset++;\n          if(next_offset < 1) continue;\n          prev_offset = next_offset - 1;\n          if(next_offset >= actions.length) next_offset = prev_offset;\n          if(actions[prev_offset][\"at\"] > current_msecs) next_offset = prev_offset;\n\n          let prev_action = actions[prev_offset];\n          let next_action = actions[next_offset];\n          let prev_val = clampedNum(prev_action[\"pos\"], 0, 100) * 10.0;\n          let next_val = clampedNum(next_action[\"pos\"], 0, 100) * 10.0;\n          if(inverted) {\n            prev_val = 1000 - prev_val;\n            next_val = 1000 - next_val;\n          }\n          let where_in_interval = prev_offset !== next_offset ?\n                                  (current_msecs - prev_action[\"at\"])*1.0 / (next_action[\"at\"] - prev_action[\"at\"])*1.0 :\n                                  0.5\n          let mid_val = (1.0 - where_in_interval) * prev_val + where_in_interval * next_val;\n\n          // if enabled, fill L0 pauses with slow motion\n          const pause_threshold = 2000\n          if(axis === \"L0\" && moving_pauses) {\n            if(mid_val > 850) {\n              if(moving_pause_start <= 0) {\n                // we are not in pause mode yet, keep watching\n                setMovingPauseStart(current_msecs)\n              } else {\n                if(current_msecs - moving_pause_start > pause_threshold) {\n                  // we are in a pause, create holding pattern\n                  mid_val = Math.abs(1000 - (((current_msecs - moving_pause_start - pause_threshold) / 4) % 2000)) * 0.8\n                }\n              }\n            } else {\n              // seems to be some action here, recover\n              if(moving_pause_start < 0) {\n                // we are recovering from a pause, advance to mid_val (finish in 600ms)\n                let recover_degree = clampedFloat((current_msecs - Math.abs(moving_pause_start)) / 600, 0, 1)\n                console.log(`recovering ${recover_degree}`)\n                mid_val = recover_degree * mid_val + (1 - recover_degree) * tmp_position[\"L0\"]\n                if(recover_degree > 0.95) setMovingPauseStart(0)\n              } else if(moving_pause_start > 0) {\n                // we might be in a pause\n                if(current_msecs - moving_pause_start > pause_threshold) {\n                  // we were in a pause, set to recover\n                  setMovingPauseStart(-current_msecs)\n                  mid_val = tmp_position[\"L0\"]\n                } else {\n                  // not paused yet, just reset timer\n                  setMovingPauseStart(0)\n                }\n              }\n            }\n          }\n\n          tmp_position[axis] = mid_val;\n          // if(axis === \"L0\") console.log(`${prev_offset} ${where_in_interval} ${mid_val} ${prev_val} ${next_val}`);\n          tmp_offsets[axis] = prev_offset;\n        } catch(e) {\n          console.log(e);\n        }\n      }\n      setPosition(tmp_position);\n      setScriptOffsets(tmp_offsets);\n      commandRobot(tmp_position, 0);\n    }\n  }, 50) // next execution in 50ms\n\n  async function setFile(file) {\n    function initVideo(filename, funscripts) {\n      setEditingAxis(\"none\")\n      setCurrentFile(filename)\n      setFunscripts(funscripts)\n      let tmp2 = {};\n      for(let axis in funscripts) tmp2[axis] = 0\n      setScriptOffsets(tmp2)\n      tmp2 = {};\n      for(let axis in funscripts) if(funscripts[axis] !== undefined) tmp2[axis] = 500\n      setPosition({...tmp2})\n      let video = document.getElementById(\"idvideo\")\n      video.play();\n      video.ondurationchange = (e) => setVideoLength(e.srcElement.duration * 1000)\n      video.ontimeupdate = (e) => setVideoPosition(e.srcElement.currentTime * 1000)\n    }\n\n    if(file in local_video_files) {\n      let fileItem = local_video_files[file]\n      document.getElementById(\"idvideo\").src = URL.createObjectURL(await fileItem[\"entry\"].getFile());\n      let funscripts = {}\n      for(let axis of axes) {\n        if(axis[0] in fileItem) {\n          let fh = await fileItem[axis[0]].getFile()\n          let txt = await fh.text()\n          funscripts[axis[0]] = JSON.parse(txt)\n        }\n      }\n      initVideo(file, funscripts)\n      return\n    }\n\n    let funscripts = {};\n    document.getElementById(\"idvideo\").src = `video/${file}`;\n    let file_base = \"video/\" + file.replaceAll(\".mp4\", \"\");\n    let fetches = [];\n    for(let axis of axes) {\n      fetches.push(\n        fetch(file_base + axis[1], { headers : { 'Content-Type': 'application/json', 'Accept': 'application/json' } } ).then(\n          (res) => res.json().then(\n            (json) => funscripts[axis[0]] = json\n          ).catch(\n            (err) => { console.log(err); funscripts[axis[0]] = undefined; }\n          )\n        ).catch(\n            (err) => { console.warn(err); funscripts[axis[0]] = undefined; }\n          )\n      )\n    }\n    Promise.allSettled(fetches).then(\n        () => { initVideo(file, funscripts) }\n    );\n  }\n\n  async function openLocalFolder() {\n    if(!window.hasOwnProperty(\"showDirectoryPicker\")) {\n      window.alert(\"Your browser does not support the File Syste API\")\n      return\n    }\n    const dirHandle = await window.showDirectoryPicker()\n    let videoFiles = {}\n    for await (const entry of dirHandle.values()) {\n      if(entry.kind === 'file') {\n        if(entry.name.endsWith(\".mp4\")) {\n          if(entry.name in videoFiles) {\n            videoFiles[entry.name][\"entry\"] = entry\n          } else {\n            videoFiles[entry.name] = {\"name\": entry.name, \"entry\": entry}\n          }\n          continue\n        }\n        if(entry.name.endsWith(\".funscript\")) {\n          for(let axis of axes) {\n            if(entry.name.endsWith(axis[1])) {\n              let name = entry.name.replaceAll(axis[1], \".mp4\")\n              if(name in videoFiles) {\n                videoFiles[name][axis[0]] = entry\n              } else {\n                videoFiles[name] = {\"name\": name, [axis[0]]: entry}\n              }\n              break\n            }\n          }\n        }\n      }\n    }\n    let videos = []\n    for(let e of Object.keys(videoFiles)) {\n      videos.push(e)\n    }\n    videos.sort()\n    setVideoFiles(videos)\n    setLocalVideoFiles(videoFiles)\n  }\n\n  const setEditAxis = axis => {\n    let tmp = {...funscripts}\n    if(tmp[axis] === undefined) {\n      tmp[axis] = {\"actions\": [{\"at\": 0, \"pos\": 50}]}\n      setFunscripts(tmp)\n      console.log(`created funscript file ${axis}`)\n      let tmp2 = {...script_offsets}\n      tmp2[axis] = 0\n      setScriptOffsets(tmp2)\n    }\n    setEditingAxis(axis)\n  }\n\n  const selectVideoSpeed = speed => {\n    let player = document.getElementById(\"idvideo\");\n    player.playbackRate = parseFloat(speed) / 100;\n    setVideoSpeed(speed)\n  }\n\n  const keydownListener = keydownEvent => {\n    const { key, target, repeat } = keydownEvent;\n    if (repeat) return;\n    if(key >= '1' && key <= '9') {\n      let pos = (key - '1') / 8 * 100\n      let tmp = {...funscripts}\n      let player = document.getElementById(\"idvideo\")\n      let current_msecs = player.currentTime * 1000.0 - latency\n      tmp[editing_axis][\"actions\"].push({\"at\": Math.floor(current_msecs), \"pos\": Math.floor(pos)})\n      tmp[editing_axis][\"actions\"].sort((a, b) => a[\"at\"] - b[\"at\"])\n      setFunscripts(tmp)\n      console.log(`Axis ${editing_axis} has ${tmp[editing_axis][\"actions\"].length} actions`)\n    }\n    if(key === '0') {\n      let tmp = {...funscripts}\n      let player = document.getElementById(\"idvideo\")\n      let current_msecs = player.currentTime * 1000 - latency\n      tmp[editing_axis][\"actions\"] = tmp[editing_axis][\"actions\"].filter( (e) => e[\"at\"] < current_msecs - 1500 || e[\"at\"] > current_msecs + 1500)\n      setFunscripts(tmp)\n      player.currentTime = (current_msecs - 3000 + latency) / 1000\n    }\n    const speed_key_dict = { 'q': 10, 'w': 25, 'e': 50, 'r': 100, 't': 200 }\n    if(key in speed_key_dict) {\n      selectVideoSpeed(speed_key_dict[key])\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", keydownListener, true)\n    return () => window.removeEventListener(\"keydown\", keydownListener, true)\n  })\n\n  const toggleRunning = running => {\n    setRunning(!running)\n  }\n\n  const downloadEditingScript = () => {\n    let element = document.createElement('a');\n    element.setAttribute('href', 'data:application/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(funscripts[editing_axis])));\n    let extension = \".json\"\n    for(let axis of axes) {\n      if(axis[0] === editing_axis) extension = axis[1]\n    }\n    element.setAttribute('download', current_file.replaceAll(\".mp4\", extension));\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  useEffect(() => {\n    if(video_files.length > 0) return;\n    fetch(\"video/videos.txt\", {})\n    .then(res => res.text())\n    .then(\n          (result) => { setVideoFiles(result.split(\"\\n\")) },\n          (error) => { alert(\"Could not load list of video files\"); }\n    )\n  })\n\n  let stle = {position: 'absolute', marginLeft: '399px', width: '2px', height: '100px', backgroundColor: 'grey'}\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant=\"h5\">Video {Math.floor(position[\"L0\"])} {Math.floor(position[\"R2\"])} {Math.floor(position[\"R1\"])}</Typography>\n        <hr />\n        <video id=\"idvideo\" width=\"100%\" controls>\n        </video>\n        {editing_axis !== \"none\" ? <div style={stle}/> : \"\"}\n        {editing_axis !== \"none\" ? <Canvas vpos={video_position} funscripts={funscripts} axis={editing_axis} totalTime={video_length}></Canvas> : \"\"}\n      </CardContent>\n      <Typography>File</Typography>\n      <Button\n        onClick={() => openLocalFolder()}\n        variant=\"contained\"\n        color=\"default\"\n      >\n        Open Client Video Folder\n      </Button>\n      <Select\n        id=\"idselect\"\n        value={current_file}\n        onChange={(e, value) => setFile(value.props.value)}>\n        <MenuItem value=\"none\" key=\"none\">no video</MenuItem>\n        {video_files.map((f) => (\n          <MenuItem value={f} key={f} >{f}</MenuItem>\n        ))}\n      </Select>\n\n      <Select\n        value={video_speed}\n        onChange={(e, value) => selectVideoSpeed(value.props.value)}>\n        <MenuItem value=\"10\" key=\"10\">10%</MenuItem>\n        <MenuItem value=\"25\" key=\"25\">25%</MenuItem>\n        <MenuItem value=\"50\" key=\"50\">50%</MenuItem>\n        <MenuItem value=\"100\" key=\"100\">100%</MenuItem>\n        <MenuItem value=\"200\" key=\"200\">200%</MenuItem>\n      </Select>\n      <Select\n        value={editing_axis}\n        onChange={(e, value) => setEditAxis(value.props.value)}>\n        <MenuItem value=\"none\" key=\"none\">none</MenuItem>\n        <MenuItem value=\"L0\" key=\"main\">Main/L0</MenuItem>\n        <MenuItem value=\"R2\" key=\"pitch\">Pitch/R2</MenuItem>\n        <MenuItem value=\"R1\" key=\"roll\">Roll/R1</MenuItem>\n        <MenuItem value=\"R0\" key=\"twist\">Twist/R0</MenuItem>\n        <MenuItem value=\"L1\" key=\"forward\">Forward/L1</MenuItem>\n        <MenuItem value=\"L2\" key=\"left\">Left/L2</MenuItem>\n        <MenuItem value=\"V0\" key=\"vibe1\">Vibe1/V0</MenuItem>\n        <MenuItem value=\"A0\" key=\"valve\">Valve/A0</MenuItem>\n        <MenuItem value=\"A1\" key=\"suck\">Suck/A1</MenuItem>\n      </Select>\n      <Button\n        onClick={() => downloadEditingScript()}\n        variant=\"contained\"\n        color=\"default\"\n        disabled={editing_axis === \"none\"}\n      >\n        Download script\n      </Button>\n\n      <Typography>Latency</Typography>\n      <Slider\n        value={latency}\n        min={-2000}\n        max={2000}\n        step={10}\n        track={false}\n        valueLabelDisplay={'auto'}\n        onChange={(e, value) => setLatency(value)}\n        marks={[{ value: -1000, label: 'Video 1s early' },{ value: 1000, label: 'Video 1s late' }]}\n      />\n      <FormControlLabel key=\"moving_pauses\" label=\"Moving pauses\"\n          control={\n              <Switch\n                  checked={moving_pauses}\n                  onChange={(e) => setMovingPauses(!moving_pauses)}\n                  name=\"Moving pauses\"\n                  value=\"moving_pauses\"\n                  color={'primary'}\n              />\n          }\n      />\n      <CardActions>\n        <Button\n          onClick={() => toggleRunning(running)}\n          variant=\"contained\"\n          color=\"default\"\n        >\n          {running ? 'STOP' : 'START'}\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n\nexport default MosaVideoPlayer\n"],"sourceRoot":""}